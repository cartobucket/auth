---
openapi: 3.0.3
info:
  title: Revet Auth API
  description: OAuth 2.1/OIDC Server API
  termsOfService: https://revethq.com/terms
  contact:
    name: Revet
    url: https://revethq.com
    email: info@revethq.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  version: 1.0.0
servers:
- url: http://localhost:5000
  description: Auto generated value
- url: http://0.0.0.0:5000
  description: Auto generated value
tags:
- name: Application Secrets
- name: Applications
- name: Authorization Server
- name: Authorization Servers
- name: Clients
- name: GroupMembers
- name: Groups
- name: Schemas
- name: Scopes
- name: Templates
- name: Users
paths:
  /applicationSecrets:
    get:
      tags:
      - Application Secrets
      summary: List application secrets with optional filtering by application IDs
      parameters:
      - name: applicationIds
        in: query
        schema:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
      responses:
        "200":
          description: Application secrets retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationSecretsResponse'
    post:
      tags:
      - Application Secrets
      summary: Create a new application secret
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationSecretRequest'
      responses:
        "200":
          description: Application secret created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationSecretResponse'
        "400":
          description: Invalid request
  /applicationSecrets/{secretId}:
    delete:
      tags:
      - Application Secrets
      summary: Delete an application secret by ID
      parameters:
      - name: secretId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "204":
          description: Application secret deleted successfully
        "404":
          description: Application secret not found
  /applications:
    get:
      tags:
      - Applications
      summary: List applications
      parameters:
      - name: authorizationServerIds
        in: query
        schema:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
      - name: limit
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      - name: offset
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      responses:
        "200":
          description: List of applications
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationsResponse'
    post:
      tags:
      - Applications
      summary: Create a new application
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationRequest'
      responses:
        "200":
          description: Application created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationResponse'
        "400":
          description: Invalid request
  /applications/{applicationId}:
    get:
      tags:
      - Applications
      summary: Get an application by ID
      parameters:
      - name: applicationId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Application found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationResponse'
        "404":
          description: Application not found
    delete:
      tags:
      - Applications
      summary: Delete an application
      parameters:
      - name: applicationId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "204":
          description: Application deleted successfully
        "404":
          description: Application not found
  /authorizationServers:
    get:
      tags:
      - Authorization Servers
      summary: List authorization servers with optional pagination
      parameters:
      - name: limit
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      - name: offset
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      responses:
        "200":
          description: Authorization servers retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthorizationServersResponse'
    post:
      tags:
      - Authorization Servers
      summary: Create a new authorization server
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthorizationServerRequest'
      responses:
        "200":
          description: Authorization server created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthorizationServerResponse'
        "400":
          description: Invalid request
  /authorizationServers/{authorizationServerId}:
    get:
      tags:
      - Authorization Servers
      summary: Get an authorization server by ID
      parameters:
      - name: authorizationServerId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Authorization server found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthorizationServerResponse'
        "404":
          description: Authorization server not found
    put:
      tags:
      - Authorization Servers
      summary: Update an authorization server by ID
      parameters:
      - name: authorizationServerId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthorizationServerRequest'
      responses:
        "200":
          description: Authorization server updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthorizationServerResponse'
        "404":
          description: Authorization server not found
    delete:
      tags:
      - Authorization Servers
      summary: Delete an authorization server by ID
      parameters:
      - name: authorizationServerId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "204":
          description: Authorization server deleted successfully
        "404":
          description: Authorization server not found
  /clients:
    get:
      tags:
      - Clients
      summary: List clients
      parameters:
      - name: authorizationServerIds
        in: query
        schema:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
      - name: limit
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      - name: offset
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      responses:
        "200":
          description: List of clients
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientsResponse'
    post:
      tags:
      - Clients
      summary: Create a new client
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClientRequest'
      responses:
        "200":
          description: Client created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientResponse'
        "400":
          description: Invalid request
  /clients/{clientId}:
    get:
      tags:
      - Clients
      summary: Get a client by ID
      parameters:
      - name: clientId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Client found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientResponse'
        "404":
          description: Client not found
    put:
      tags:
      - Clients
      summary: Update a client
      parameters:
      - name: clientId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClientRequest'
      responses:
        "200":
          description: Client updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientResponse'
        "404":
          description: Client not found
    delete:
      tags:
      - Clients
      summary: Delete a client
      parameters:
      - name: clientId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "204":
          description: Client deleted successfully
        "404":
          description: Client not found
  /groups:
    get:
      tags:
      - Groups
      summary: List groups with optional filtering
      parameters:
      - name: authorizationServerIds
        in: query
        schema:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
      - name: limit
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      - name: offset
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      responses:
        "200":
          description: Groups retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupsResponse'
    post:
      tags:
      - Groups
      summary: Create a new group
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupRequest'
      responses:
        "200":
          description: Group created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupResponse'
        "400":
          description: Invalid request
  /groups/{groupId}:
    get:
      tags:
      - Groups
      summary: Get a group by ID
      parameters:
      - name: groupId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Group found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupResponse'
        "404":
          description: Group not found
    put:
      tags:
      - Groups
      summary: Update a group by ID
      parameters:
      - name: groupId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupRequest'
      responses:
        "200":
          description: Group updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupResponse'
        "404":
          description: Group not found
    delete:
      tags:
      - Groups
      summary: Delete a group by ID
      parameters:
      - name: groupId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "204":
          description: Group deleted successfully
        "404":
          description: Group not found
  /groups/{groupId}/members:
    get:
      tags:
      - GroupMembers
      summary: List members of a group
      parameters:
      - name: groupId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      - name: limit
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      - name: offset
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      responses:
        "200":
          description: Group members retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupMembersResponse'
        "404":
          description: Group not found
    post:
      tags:
      - GroupMembers
      summary: Add a member to a group
      parameters:
      - name: groupId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GroupMemberRequest'
      responses:
        "200":
          description: Group member added successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupMemberResponse'
        "400":
          description: Invalid request
        "404":
          description: Group not found
  /groups/{groupId}/members/{memberId}:
    get:
      tags:
      - GroupMembers
      summary: Get a group member by ID
      parameters:
      - name: groupId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      - name: memberId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Group member found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GroupMemberResponse'
        "404":
          description: Group member not found
    delete:
      tags:
      - GroupMembers
      summary: Remove a member from a group
      parameters:
      - name: groupId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      - name: memberId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "204":
          description: Group member removed successfully
        "404":
          description: Group member not found
  /schemas:
    get:
      tags:
      - Schemas
      summary: List schemas with optional filtering
      parameters:
      - name: authorizationServerId
        in: query
        schema:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
      - name: limit
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      - name: offset
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      responses:
        "200":
          description: Schemas retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchemasResponse'
    post:
      tags:
      - Schemas
      summary: Create a new schema
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SchemaRequest'
      responses:
        "200":
          description: Schema created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchemaResponse'
        "400":
          description: Invalid request
  /schemas/{schemaId}:
    get:
      tags:
      - Schemas
      summary: Get a schema by ID
      parameters:
      - name: schemaId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Schema found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchemaResponse'
        "404":
          description: Schema not found
    put:
      tags:
      - Schemas
      summary: Update a schema by ID
      parameters:
      - name: schemaId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SchemaRequest'
      responses:
        "200":
          description: Schema updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchemaResponse'
        "404":
          description: Schema not found
    delete:
      tags:
      - Schemas
      summary: Delete a schema by ID
      parameters:
      - name: schemaId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "204":
          description: Schema deleted successfully
        "404":
          description: Schema not found
  /scopes:
    get:
      tags:
      - Scopes
      summary: List scopes with optional filtering
      parameters:
      - name: authorizationServerIds
        in: query
        schema:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
      - name: limit
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      - name: offset
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      responses:
        "200":
          description: Scopes retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScopesResponse'
    post:
      tags:
      - Scopes
      summary: Create a new scope
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScopeRequest'
      responses:
        "200":
          description: Scope created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScopeResponse'
        "400":
          description: Invalid request
  /scopes/{scopeId}:
    get:
      tags:
      - Scopes
      summary: Get a scope by ID
      parameters:
      - name: scopeId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Scope found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScopeResponse'
        "404":
          description: Scope not found
    put:
      tags:
      - Scopes
      summary: Update a scope by ID
      parameters:
      - name: scopeId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ScopeRequest'
      responses:
        "200":
          description: Scope updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ScopeResponse'
        "404":
          description: Scope not found
    delete:
      tags:
      - Scopes
      summary: Delete a scope by ID
      parameters:
      - name: scopeId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "204":
          description: Scope deleted successfully
        "404":
          description: Scope not found
  /templates:
    get:
      tags:
      - Templates
      summary: List templates with optional filtering
      parameters:
      - name: authorizationServerIds
        in: query
        schema:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
      - name: limit
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      - name: offset
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      responses:
        "200":
          description: Templates retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplatesResponse'
    post:
      tags:
      - Templates
      summary: Create a new template
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateRequest'
      responses:
        "200":
          description: Template created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateResponse'
        "400":
          description: Invalid request
  /templates/{templateId}:
    get:
      tags:
      - Templates
      summary: Get a template by ID
      parameters:
      - name: templateId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Template found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateResponse'
        "404":
          description: Template not found
    put:
      tags:
      - Templates
      summary: Update a template by ID
      parameters:
      - name: templateId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TemplateRequest'
      responses:
        "200":
          description: Template updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TemplateResponse'
        "404":
          description: Template not found
    delete:
      tags:
      - Templates
      summary: Delete a template by ID
      parameters:
      - name: templateId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "204":
          description: Template deleted successfully
        "404":
          description: Template not found
  /users:
    get:
      tags:
      - Users
      summary: List users with optional filtering
      parameters:
      - name: authorizationServerIds
        in: query
        schema:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
      - name: limit
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      - name: offset
        in: query
        schema:
          format: int32
          type: integer
          nullable: true
      responses:
        "200":
          description: Users retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsersResponse'
    post:
      tags:
      - Users
      summary: Create a new user
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
      responses:
        "200":
          description: User created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        "400":
          description: Invalid request
  /users/{userId}:
    get:
      tags:
      - Users
      summary: Get a user by ID
      parameters:
      - name: userId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: User found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        "404":
          description: User not found
    put:
      tags:
      - Users
      summary: Update a user by ID
      parameters:
      - name: userId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
      responses:
        "200":
          description: User updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        "404":
          description: User not found
    delete:
      tags:
      - Users
      summary: Delete a user by ID
      parameters:
      - name: userId
        in: path
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "204":
          description: User deleted successfully
        "404":
          description: User not found
  /{authorizationServerId}/.well-known/openid-connect:
    get:
      tags:
      - Authorization Server
      summary: Well Known Endpoint
      description: Returns the OpenID Connect Well-Known configuration
      parameters:
      - name: authorizationServerId
        in: path
        description: Authorization Server ID
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Returns a well-known configuration object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WellKnown'
  /{authorizationServerId}/authorization:
    get:
      tags:
      - Authorization Server
      summary: Authorization Endpoint
      description: OAuth2/OIDC authorization endpoint
      parameters:
      - name: authorizationServerId
        in: path
        description: Authorization Server ID
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      - name: client_id
        in: query
        description: Client identifier
        required: true
        schema:
          type: string
          nullable: true
      - name: code_challenge
        in: query
        description: PKCE code challenge
        schema:
          type: string
          nullable: true
      - name: code_challenge_method
        in: query
        description: PKCE code challenge method
        schema:
          type: string
          nullable: true
      - name: nonce
        in: query
        description: Nonce for ID token
        schema:
          type: string
          nullable: true
      - name: redirect_uri
        in: query
        description: Redirect URI
        schema:
          type: string
          nullable: true
      - name: response_type
        in: query
        description: Response type
        required: true
        schema:
          type: string
          nullable: true
      - name: scope
        in: query
        description: Requested scopes
        schema:
          type: string
          nullable: true
      - name: state
        in: query
        description: State parameter
        schema:
          type: string
          nullable: true
      responses:
        "200":
          description: Returns authorization form
        "302":
          description: Redirect to client with authorization code
    post:
      tags:
      - Authorization Server
      summary: Process Authorization
      description: Process authorization with credentials
      parameters:
      - name: authorizationServerId
        in: path
        description: Authorization Server ID
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      - name: client_id
        in: query
        description: Client identifier
        required: true
        schema:
          type: string
          nullable: true
      - name: code_challenge
        in: query
        description: PKCE code challenge
        schema:
          type: string
          nullable: true
      - name: code_challenge_method
        in: query
        description: PKCE code challenge method
        schema:
          type: string
          nullable: true
      - name: nonce
        in: query
        description: Nonce for ID token
        schema:
          type: string
          nullable: true
      - name: redirect_uri
        in: query
        description: Redirect URI
        schema:
          type: string
          nullable: true
      - name: response_type
        in: query
        description: Response type
        required: true
        schema:
          type: string
          nullable: true
      - name: scope
        in: query
        description: Requested scopes
        schema:
          type: string
          nullable: true
      - name: state
        in: query
        description: State parameter
        schema:
          type: string
          nullable: true
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                username:
                  type: string
                  nullable: true
                password:
                  type: string
                  nullable: true
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                username:
                  type: string
                  nullable: true
                password:
                  type: string
                  nullable: true
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  nullable: true
                password:
                  type: string
                  nullable: true
      responses:
        "200":
          description: Rerender the form when the user does not provide valid credentials
        "302":
          description: Redirect the user back to the redirect uri on success
  /{authorizationServerId}/jwks:
    get:
      tags:
      - Authorization Server
      summary: JWKS Endpoint
      description: JSON Web Key Set endpoint
      parameters:
      - name: authorizationServerId
        in: path
        description: Authorization Server ID
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Returns JWKS
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/JWKS'
  /{authorizationServerId}/token:
    post:
      tags:
      - Authorization Server
      summary: Token Endpoint (Form Data)
      description: OAuth2/OIDC token endpoint with form data
      parameters:
      - name: authorizationServerId
        in: path
        description: Authorization Server ID
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccessTokenRequest'
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                grant_type:
                  type: string
                  nullable: true
                client_id:
                  type: string
                  nullable: true
                client_secret:
                  type: string
                  nullable: true
                code:
                  type: string
                  nullable: true
                redirect_uri:
                  type: string
                  nullable: true
                code_verifier:
                  type: string
                  nullable: true
                refresh_token:
                  type: string
                  nullable: true
                scope:
                  type: string
                  nullable: true
      responses:
        "200":
          description: Returns access token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AccessTokenResponse'
        "400":
          description: Invalid request
        "401":
          description: Invalid client credentials
  /{authorizationServerId}/userinfo:
    get:
      tags:
      - Authorization Server
      summary: User Info
      description: OpenID Connect UserInfo endpoint
      parameters:
      - name: authorizationServerId
        in: path
        description: Authorization Server ID
        required: true
        schema:
          $ref: '#/components/schemas/UUID'
      responses:
        "200":
          description: Returns user information
        "401":
          description: Unauthorized
components:
  schemas:
    AccessTokenRequest:
      required:
      - client_id
      - grant_type
      type: object
      properties:
        client_id:
          type: string
          nullable: true
        client_secret:
          type: string
          nullable: true
        grant_type:
          type: string
          allOf:
          - $ref: '#/components/schemas/GrantTypeEnum'
          nullable: true
        code:
          type: string
          nullable: true
        redirect_uri:
          type: string
          nullable: true
        code_verifier:
          type: string
          nullable: true
        refresh_token:
          type: string
          nullable: true
        scope:
          type: string
          nullable: true
    AccessTokenResponse:
      type: object
      properties:
        access_token:
          type: string
          nullable: true
        token_type:
          type: string
          allOf:
          - $ref: '#/components/schemas/TokenTypeEnum'
          nullable: true
        expires_in:
          format: int32
          type: integer
          nullable: true
        refresh_token:
          type: string
          nullable: true
        scope:
          type: string
          nullable: true
        id_token:
          type: string
          nullable: true
    ApplicationRequest:
      required:
      - authorizationServerId
      - name
      type: object
      properties:
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        name:
          type: string
          nullable: true
        clientId:
          type: string
          nullable: true
        profile: {}
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
        scopes:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
    ApplicationResponse:
      required:
      - authorizationServerId
      - scopes
      type: object
      properties:
        id:
          type: string
          nullable: true
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        name:
          type: string
          nullable: true
        clientId:
          type: string
          nullable: true
        clientSecret:
          type: string
          nullable: true
        profile: {}
        createdOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        updatedOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
        scopes:
          type: array
          items:
            $ref: '#/components/schemas/ScopeResponse'
          nullable: true
    ApplicationSecretRequest:
      required:
      - applicationId
      - name
      - scopes
      type: object
      properties:
        applicationId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        name:
          type: string
          nullable: true
        scopes:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
        expiresIn:
          format: int32
          type: integer
          nullable: true
    ApplicationSecretResponse:
      required:
      - scopes
      - createdOn
      type: object
      properties:
        id:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        clientSecret:
          type: string
          nullable: true
        name:
          type: string
          nullable: true
        expiresIn:
          format: int32
          type: integer
          nullable: true
        applicationId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        scopes:
          type: array
          items:
            $ref: '#/components/schemas/ScopeResponse'
          nullable: true
        createdOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
    ApplicationSecretsResponse:
      required:
      - page
      type: object
      properties:
        applicationSecrets:
          type: array
          items:
            $ref: '#/components/schemas/ApplicationSecretResponse'
          nullable: true
        page:
          type: object
          allOf:
          - $ref: '#/components/schemas/Page'
          nullable: true
    ApplicationsResponse:
      required:
      - page
      type: object
      properties:
        applications:
          type: array
          items:
            $ref: '#/components/schemas/ApplicationResponse'
          nullable: true
        page:
          type: object
          allOf:
          - $ref: '#/components/schemas/Page'
          nullable: true
    AuthorizationServerRequest:
      type: object
      properties:
        serverUrl:
          type: string
          nullable: true
        audience:
          type: string
          nullable: true
        clientCredentialsTokenExpiration:
          format: int32
          type: integer
          nullable: true
        authorizationCodeTokenExpiration:
          format: int32
          type: integer
          nullable: true
        name:
          type: string
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    AuthorizationServerResponse:
      required:
      - name
      type: object
      properties:
        id:
          type: string
          nullable: true
        serverUrl:
          type: string
          nullable: true
        audience:
          type: string
          nullable: true
        clientCredentialsTokenExpiration:
          format: int32
          type: integer
          nullable: true
        authorizationCodeTokenExpiration:
          format: int32
          type: integer
          nullable: true
        name:
          type: string
          nullable: true
        createdOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        updatedOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
        scopes:
          type: array
          items:
            $ref: '#/components/schemas/ScopeResponse'
          nullable: true
    AuthorizationServersResponse:
      required:
      - page
      type: object
      properties:
        authorizationServers:
          type: array
          items:
            $ref: '#/components/schemas/AuthorizationServerResponse'
          nullable: true
        page:
          type: object
          allOf:
          - $ref: '#/components/schemas/Page'
          nullable: true
    ClientRequest:
      type: object
      properties:
        name:
          type: string
          nullable: true
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        redirectUris:
          type: array
          items:
            type: string
          nullable: true
        scopes:
          type: array
          items:
            format: uuid
            pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
            type: string
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    ClientResponse:
      type: object
      properties:
        id:
          type: string
          nullable: true
        name:
          type: string
          nullable: true
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        redirectUris:
          type: array
          items:
            type: string
          nullable: true
        createdOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        updatedOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        scopes:
          type: array
          items:
            $ref: '#/components/schemas/ScopeResponse'
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    ClientsResponse:
      required:
      - page
      type: object
      properties:
        clients:
          type: array
          items:
            $ref: '#/components/schemas/ClientResponse'
          nullable: true
        page:
          type: object
          allOf:
          - $ref: '#/components/schemas/Page'
          nullable: true
    GrantTypeEnum:
      enum:
      - CLIENT_CREDENTIALS
      - AUTHORIZATION_CODE
      - REFRESH_TOKEN
      type: string
    GroupMemberRequest:
      type: object
      properties:
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        memberId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        memberType:
          type: string
          allOf:
          - $ref: '#/components/schemas/MemberType'
          nullable: true
    GroupMemberResponse:
      type: object
      properties:
        id:
          type: string
          nullable: true
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        groupId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        memberId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        memberType:
          type: string
          allOf:
          - $ref: '#/components/schemas/MemberType'
          nullable: true
        createdOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
    GroupMembersResponse:
      required:
      - page
      type: object
      properties:
        groupMembers:
          type: array
          items:
            $ref: '#/components/schemas/GroupMemberResponse'
          nullable: true
        page:
          type: object
          allOf:
          - $ref: '#/components/schemas/Page'
          nullable: true
    GroupRequest:
      type: object
      properties:
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        displayName:
          type: string
          nullable: true
        externalId:
          type: string
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    GroupResponse:
      type: object
      properties:
        id:
          type: string
          nullable: true
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        displayName:
          type: string
          nullable: true
        externalId:
          type: string
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
        createdOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        updatedOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
    GroupsResponse:
      required:
      - page
      type: object
      properties:
        groups:
          type: array
          items:
            $ref: '#/components/schemas/GroupResponse'
          nullable: true
        page:
          type: object
          allOf:
          - $ref: '#/components/schemas/Page'
          nullable: true
    JWK:
      type: object
      properties:
        kty:
          type: string
          nullable: true
        use:
          type: string
          nullable: true
        key_ops:
          type: array
          items:
            type: string
          nullable: true
        alg:
          type: string
          nullable: true
        kid:
          type: string
          nullable: true
        x5c:
          type: array
          items:
            type: string
          nullable: true
        x5t:
          type: string
          nullable: true
        x5t#S256:
          type: string
          nullable: true
        x5u:
          type: string
          nullable: true
        "n":
          type: string
          nullable: true
        e:
          type: string
          nullable: true
        d:
          type: string
          nullable: true
        p:
          type: string
          nullable: true
        q:
          type: string
          nullable: true
        dp:
          type: string
          nullable: true
        dq:
          type: string
          nullable: true
        qi:
          type: string
          nullable: true
    JWKS:
      type: object
      properties:
        keys:
          type: array
          items:
            $ref: '#/components/schemas/JWK'
          nullable: true
    MemberType:
      enum:
      - USER
      - GROUP
      type: string
    Metadata:
      type: object
      properties:
        properties:
          type: object
          additionalProperties: {}
          nullable: true
        identifiers:
          type: array
          items:
            $ref: '#/components/schemas/MetadataIdentifiersInner'
          nullable: true
        schemaValidations:
          type: array
          items:
            $ref: '#/components/schemas/MetadataSchemaValidationsInner'
          nullable: true
    MetadataIdentifiersInner:
      type: object
      properties:
        system:
          type: string
          nullable: true
        value:
          type: string
          nullable: true
    MetadataSchemaValidationsInner:
      type: object
      properties:
        schemaId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        isValid:
          type: boolean
          nullable: true
        validatedOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
    OffsetDateTime:
      format: date-time
      type: string
      example: 2022-03-10T12:15:50-04:00
    Page:
      type: object
      properties:
        next:
          type: string
          nullable: true
        previous:
          type: string
          nullable: true
    SchemaRequest:
      required:
      - authorizationServerId
      type: object
      properties:
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        name:
          type: string
          nullable: true
        schemaVersion:
          type: string
          nullable: true
        schema: {}
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    SchemaResponse:
      required:
      - authorizationServerId
      type: object
      properties:
        id:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        name:
          type: string
          nullable: true
        schemaVersion:
          type: string
          nullable: true
        schema: {}
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    SchemasResponse:
      required:
      - page
      type: object
      properties:
        schemas:
          type: array
          items:
            $ref: '#/components/schemas/SchemaResponse'
          nullable: true
        page:
          type: object
          allOf:
          - $ref: '#/components/schemas/Page'
          nullable: true
    ScopeRequest:
      required:
      - authorizationServerId
      - name
      type: object
      properties:
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        name:
          type: string
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    ScopeResponse:
      type: object
      properties:
        id:
          type: string
          nullable: true
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        createdOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        updatedOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        name:
          type: string
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    ScopesResponse:
      required:
      - page
      type: object
      properties:
        scopes:
          type: array
          items:
            $ref: '#/components/schemas/ScopeResponse'
          nullable: true
        page:
          type: object
          allOf:
          - $ref: '#/components/schemas/Page'
          nullable: true
    TemplateRequest:
      type: object
      properties:
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        templateType:
          type: string
          nullable: true
        template:
          type: string
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    TemplateResponse:
      type: object
      properties:
        id:
          type: string
          nullable: true
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        templateType:
          type: string
          nullable: true
        template:
          type: string
          nullable: true
        createdOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        updatedOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    TemplatesResponse:
      required:
      - page
      type: object
      properties:
        templates:
          type: array
          items:
            $ref: '#/components/schemas/TemplateResponse'
          nullable: true
        page:
          type: object
          allOf:
          - $ref: '#/components/schemas/Page'
          nullable: true
    TokenTypeEnum:
      enum:
      - BEARER
      type: string
    UUID:
      format: uuid
      pattern: "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
      type: string
    UserRequest:
      type: object
      properties:
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        username:
          type: string
          nullable: true
        email:
          type: string
          nullable: true
        profile: {}
        password:
          type: string
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    UserResponse:
      type: object
      properties:
        id:
          type: string
          nullable: true
        authorizationServerId:
          type: string
          allOf:
          - $ref: '#/components/schemas/UUID'
          nullable: true
        username:
          type: string
          nullable: true
        email:
          type: string
          nullable: true
        profile: {}
        createdOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        updatedOn:
          type: string
          allOf:
          - $ref: '#/components/schemas/OffsetDateTime'
          nullable: true
        metadata:
          type: object
          allOf:
          - $ref: '#/components/schemas/Metadata'
          nullable: true
    UsersResponse:
      required:
      - page
      type: object
      properties:
        users:
          type: array
          items:
            $ref: '#/components/schemas/UserResponse'
          nullable: true
        page:
          type: object
          allOf:
          - $ref: '#/components/schemas/Page'
          nullable: true
    WellKnown:
      type: object
      properties:
        issuer:
          type: string
          nullable: true
        authorization_endpoint:
          type: string
          nullable: true
        token_endpoint:
          type: string
          nullable: true
        userinfo_endpoint:
          type: string
          nullable: true
        jwks_uri:
          type: string
          nullable: true
        revocation_endpoint:
          type: string
          nullable: true
        scopes_supported:
          type: array
          items:
            type: string
          nullable: true
        response_types_supported:
          type: array
          items:
            type: string
          nullable: true
        grant_types_supported:
          type: array
          items:
            type: string
          nullable: true
        subject_types_supported:
          type: array
          items:
            type: string
          nullable: true
        id_token_signing_alg_values_supported:
          type: array
          items:
            type: string
          nullable: true
        token_endpoint_auth_methods_supported:
          type: array
          items:
            type: string
          nullable: true
        claims_supported:
          type: array
          items:
            type: string
          nullable: true
        code_challenge_methods_supported:
          type: array
          items:
            type: string
          nullable: true
